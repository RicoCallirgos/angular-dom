/*
 * @license Angular DOM
 * (c) 2015 Bethel Technologies, LLC http://getbethel.com
 * License: MIT
 */
!function(a){"use strict";a.module("bethel.dom",[]),a.module("bethel.dom").directive("equalize",["$window",function(b){return{restrict:"A",link:function(c,d,e){function f(){return e.equalize?d[0].querySelectorAll(e.equalize):d[0].children}function g(){i&&c.equalized&&a.forEach(c.equalized,function(b){a.element(b).css("height",i+"px")})}function h(){c.equalized&&(i=0,a.forEach(c.equalized,function(b){a.element(b).css("height",""),i=Math.max(i,b.offsetHeight)}),(!j||matchMedia(j).matches)&&g())}var i=0,j=e.mediaQuery||!1;j&&"("!==j[0]&&(j="("+j+")"),c.equalized=f(),c.$watch(function(){return d[0].childNodes.length},function(a,b){a&&a!==b&&(c.equalized=f())}),b.addEventListener("resize",h),c.$watch("equalized",function(b,d){b&&a.forEach(c.equalized,function(a){c.$watch(function(){return[a.offsetHeight,a[0].childNodes.length].join("x")},h)})})}}}]),a.module("bethel.dom").directive("sticky",["$window",function(a){return{restrict:"A",link:function(b,c,d){function e(){var a=f[0].getBoundingClientRect(),b=a.top,d=a.bottom-(c[0].offsetHeight+g),e=f[0].offsetWidth;parseFloat(f.css("border-left-width"))>=1&&(e-=parseFloat(f.css("border-left-width"))),parseFloat(f.css("border-right-width"))>=1&&(e-=parseFloat(f.css("border-right-width"))),c.css({position:"fixed",top:g+"px",width:e+"px"}),b>0&&c.css("position","static"),parseFloat(f.css("border-bottom-width"))>=1&&(d-=parseFloat(f.css("border-bottom-width"))),0>d&&c.css("top",Math.round(d)+"px")}var f=c.parent(),g=Number(d.offset)||0;f.css({position:"relative"}),a.addEventListener("scroll",e),a.addEventListener("resize",e)}}}])}(angular);