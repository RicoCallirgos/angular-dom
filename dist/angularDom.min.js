/*
 * @license Angular DOM
 * (c) 2015 Bethel Technologies, LLC http://getbethel.com
 * License: MIT
 */
!function(a){"use strict";a.module("bethel.dom",[]),a.module("bethel.dom").directive("equalize",function(){return{restrict:"A",link:function(b,c,d){function e(){return d.equalize?c[0].querySelectorAll(d.equalize):c[0].children}function f(){h&&b.equalized&&a.forEach(b.equalized,function(b){a.element(b).css("height",h+"px")})}function g(){b.equalized&&(h=0,a.forEach(b.equalized,function(b){a.element(b).css("height",""),h=Math.max(h,b.offsetHeight)}),f())}var h=0;b.equalized=e(),b.$watch(function(){return c[0].childNodes.length},function(a,c){a&&a!==c&&(b.equalized=e())}),window.addEventListener("resize",g),b.$watch("equalized",function(c,d){c&&a.forEach(b.equalized,function(a){b.$watch(function(){return a.offsetHeight},g)})})}}}),a.module("bethel.dom").directive("sticky",function(){return{restrict:"A",link:function(a,b,c){function d(){var a=e[0].getBoundingClientRect().top,c=e[0].getBoundingClientRect().bottom-(b[0].offsetHeight+f);b.css({position:"fixed",top:f+"px",width:e[0].offsetWidth+"px"}),a>0&&b.css("position","static"),0>c&&b.css("top",Math.round(c)+"px")}var e=b.parent(),f=Number(c.offset)||0;e.css({position:"relative"}),window.addEventListener("scroll",d),window.addEventListener("resize",d),a.$watch(function(){return[e[0].clientWidth,e[0].clientHeight].join("x")},function(a,b){a&&a!==b&&d()})}}})}(angular);